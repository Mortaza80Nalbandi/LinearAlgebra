import numpy as np
import matplotlib.pyplot as plt

if __name__ == "__main__":
    output_data = [[0.89475346, 0.05100116, 0.05424528],
                   [0.87595755, 0.06292574, 0.0611167],
                   [0.887097, 0.05461678, 0.05828628],
                   [0.85057557, 0.07986134, 0.06956308],
                   [0.89489734, 0.05037918, 0.0547235],
                   [0.8731191, 0.06385193, 0.06302892],
                   [0.869666, 0.06339406, 0.06693995],
                   [0.87890923, 0.06179543, 0.05929541],
                   [0.8503409, 0.0788027, 0.07085635],
                   [0.8717637, 0.06794654, 0.0602898],
                   [0.89669263, 0.05071531, 0.052592],
                   [0.8512618, 0.08041327, 0.06832493],
                   [0.87654245, 0.06409597, 0.05936152],
                   [0.89539707, 0.04849838, 0.0561045],
                   [0.9220538, 0.03339326, 0.04455283],
                   [0.9145153, 0.0359235, 0.04956118],
                   [0.9137209, 0.03551854, 0.05076054],
                   [0.892446, 0.05086077, 0.05669323],
                   [0.8861834, 0.05743329, 0.05638335],
                   [0.88817626, 0.05349846, 0.05832531],
                   [0.8721775, 0.06761774, 0.06020477],
                   [0.8831402, 0.05516842, 0.06169144],
                   [0.9231803, 0.02837901, 0.04844069],
                   [0.8386134, 0.08357898, 0.07780761],
                   [0.7735408, 0.13819489, 0.08826436],
                   [0.85823154, 0.07570127, 0.06606723],
                   [0.8565386, 0.07333807, 0.07012335],
                   [0.88763654, 0.0563917, 0.05597182],
                   [0.8935289, 0.05202953, 0.05444154],
                   [0.8407274, 0.08751878, 0.07175379],
                   [0.8480564, 0.08269061, 0.06925299],
                   [0.8829947, 0.05605196, 0.06095335],
                   [0.90104115, 0.04741872, 0.05154008],
                   [0.9176667, 0.03598411, 0.04634922],
                   [0.8717637, 0.06794654, 0.0602898],
                   [0.8995941, 0.04678756, 0.05361824],
                   [0.90369874, 0.04523845, 0.05106277],
                   [0.8717637, 0.06794654, 0.0602898],
                   [0.86971503, 0.06506467, 0.0652203],
                   [0.8824372, 0.05966679, 0.05789594],
                   [0.8999701, 0.04515487, 0.05487501],
                   [0.8426279, 0.08016608, 0.07720606],
                   [0.87449515, 0.06116102, 0.06434387],
                   [0.8465145, 0.07449786, 0.07898761],
                   [0.7996748, 0.11526823, 0.08505695],
                   [0.86931735, 0.06526294, 0.06541969],
                   [0.87658644, 0.06351773, 0.05989575],
                   [0.86957175, 0.06628523, 0.06414302],
                   [0.89473015, 0.0518019, 0.053468],
                   [0.8871857, 0.05585756, 0.0569567],
                   [0.12040371, 0.54771745, 0.33187878],
                   [0.08385675, 0.5357634, 0.3803798],
                   [0.08222394, 0.52746403, 0.39031196],
                   [0.07936269, 0.52181095, 0.39882633],
                   [0.07791539, 0.51471037, 0.40737423],
                   [0.06799238, 0.52077717, 0.41123047],
                   [0.06307079, 0.5046006, 0.43232864],
                   [0.1467304, 0.5597763, 0.29349336],
                   [0.10896692, 0.5493982, 0.3416349],
                   [0.06949328, 0.5184622, 0.41204455],
                   [0.12476206, 0.5487506, 0.32648742],
                   [0.07629633, 0.5250656, 0.39863807],
                   [0.17110299, 0.5303143, 0.2985827],
                   [0.06578999, 0.5121462, 0.4220638],
                   [0.13525988, 0.5492812, 0.31545895],
                   [0.12712282, 0.5428688, 0.33000842],
                   [0.0566076, 0.48814967, 0.45524275],
                   [0.1368163, 0.5698105, 0.29337323],
                   [0.06501245, 0.47960317, 0.45538434],
                   [0.12346828, 0.5575913, 0.3189404],
                   [0.04460684, 0.43478048, 0.5206127],
                   [0.13185264, 0.54270583, 0.3254415],
                   [0.0531483, 0.46776783, 0.4790839],
                   [0.08195695, 0.54364616, 0.37439686],
                   [0.12419266, 0.5482862, 0.32752112],
                   [0.11684784, 0.5417271, 0.34142506],
                   [0.09224851, 0.53114307, 0.37660843],
                   [0.05281834, 0.46501583, 0.48216587],
                   [0.06365911, 0.5029121, 0.43342873],
                   [0.22982155, 0.5082076, 0.2619708],
                   [0.12496549, 0.55344033, 0.32159415],
                   [0.15606816, 0.5511675, 0.2927643],
                   [0.1293403, 0.55275327, 0.31790638],
                   [0.04162227, 0.42552966, 0.53284806],
                   [0.05430407, 0.47955117, 0.46614474],
                   [0.06506509, 0.5119865, 0.4229484],
                   [0.08494856, 0.53050834, 0.3845431],
                   [0.10120911, 0.5244136, 0.3743773],
                   [0.08827555, 0.55348986, 0.35823455],
                   [0.08176792, 0.5315902, 0.38664186],
                   [0.07071028, 0.5268732, 0.40241653],
                   [0.07161277, 0.52499956, 0.4033876],
                   [0.11621363, 0.5515128, 0.33227354],
                   [0.15803126, 0.54850423, 0.29346448],
                   [0.07709096, 0.53338754, 0.38952148],
                   [0.09753721, 0.5651153, 0.33734745],
                   [0.08476753, 0.5467573, 0.3684752],
                   [0.10719574, 0.55190825, 0.34089598],
                   [0.22178055, 0.50040865, 0.27781078],
                   [0.08987636, 0.54685557, 0.3632681],
                   [0.0270871, 0.3166469, 0.65626603],
                   [0.03325691, 0.3731921, 0.5935509],
                   [0.03006154, 0.35295713, 0.6169813],
                   [0.03500136, 0.3858432, 0.57915545],
                   [0.02836441, 0.3363988, 0.6352368],
                   [0.02819436, 0.34115583, 0.6306498],
                   [0.03837154, 0.40322217, 0.55840635],
                   [0.03407342, 0.38252705, 0.5833996],
                   [0.03212196, 0.37172043, 0.5961576],
                   [0.02771707, 0.32750875, 0.64477414],
                   [0.03817643, 0.4008909, 0.56093264],
                   [0.03358256, 0.3774272, 0.58899033],
                   [0.03171648, 0.36258638, 0.6056971],
                   [0.03016297, 0.3534801, 0.61635697],
                   [0.02722856, 0.32333815, 0.6494333],
                   [0.03057599, 0.3483768, 0.6210472],
                   [0.03720159, 0.39995724, 0.5628411],
                   [0.03087862, 0.3567156, 0.6124058],
                   [0.02365805, 0.30689755, 0.6694444],
                   [0.04213966, 0.42896628, 0.528894],
                   [0.02891738, 0.3402799, 0.63080275],
                   [0.03348505, 0.3700087, 0.5965062],
                   [0.02887999, 0.3474775, 0.6236425],
                   [0.04079172, 0.4152684, 0.5439398],
                   [0.03251012, 0.36598352, 0.60150635],
                   [0.03799559, 0.40591222, 0.5560922],
                   [0.04232915, 0.42294928, 0.5347216],
                   [0.04182987, 0.4226456, 0.53552455],
                   [0.02896032, 0.34372982, 0.62730986],
                   [0.04737069, 0.45033216, 0.5022971],
                   [0.03326199, 0.37625927, 0.5904787],
                   [0.03725506, 0.40266675, 0.56007826],
                   [0.02763903, 0.33274952, 0.6396114],
                   [0.05045742, 0.46464708, 0.4848956],
                   [0.04261239, 0.42770305, 0.5296846],
                   [0.02786838, 0.3348519, 0.6372797],
                   [0.02986215, 0.33728772, 0.6328501],
                   [0.03777688, 0.4021409, 0.56008226],
                   [0.04257904, 0.4257727, 0.53164834],
                   [0.03382146, 0.3753694, 0.5908091],
                   [0.02735347, 0.3269789, 0.6456676],
                   [0.03296313, 0.3658383, 0.60119855],
                   [0.03325691, 0.3731921, 0.5935509],
                   [0.02809968, 0.3332507, 0.63864964],
                   [0.02727654, 0.32305327, 0.6496701],
                   [0.03024951, 0.34924194, 0.62050855],
                   [0.03464878, 0.38173473, 0.58361644],
                   [0.03515886, 0.3841988, 0.5806424],
                   [0.0320412, 0.35306, 0.61489874],
                   [0.03872316, 0.4051364, 0.5561404]]

    # Singular Value Decomposition #
    my_list = np.array(output_data)
    my_list = my_list - my_list.mean(axis=0)
    U, S, VT = np.linalg.svd(my_list, full_matrices=False)
    V = VT.T
    u_dot_s = U @ np.diag(S)
    # Another equation for u_dot_s #
    # u_dot_s = np.dot(my_list, V)

    # Principal Component Analysis #
    final = u_dot_s[:, :2]
    print(final)
    plt.figure(figsize=(8, 6))
    plt.scatter(final[0:50, 0], final[0:50, 1], color='green', marker='o', label='Setosa')
    plt.scatter(final[50:100, 0], final[50:100, 1], color='blue', marker='+', label='Versicolour')
    plt.scatter(final[100:150, 0], final[100:150, 1], color='red', marker='s', label='Virginica')
    plt.title("PCA components plot for IRIS Dataset", fontsize=14)
    plt.legend()
    plt.show()
